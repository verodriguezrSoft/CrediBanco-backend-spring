# CrediBanco-backend-spring

Este proyecto fue creado con:
1. IntelliJ
2. Spring boot 2.7.4
3. Java 11
4. Bases de datos oracle.

## Pasos necesarios para estae proyecto.

1. Ejecutar los siguientes scrips:
```sql
CREATE TABLE tarjeta_entity(
    id NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    PAN VARCHAR(16) NOT NULL, 
    CEDULAR VARCHAR(10) NOT NULL, 
    DEBITO_CREDITO VARCHAR(1) NOT NULL,
    ESTADO  VARCHAR(1), 
    NUMERO_VALIDACION VARCHAR(100),
    TELEFONO VARCHAR(100) NOT NULL,
    TITULAR VARCHAR(100) NOT NULL
);

CREATE TABLE transaccion(
    id NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    PAN VARCHAR(16) NOT NULL, 
    TOTAL_COMPRA NUMBER(5, 4) NOT NULL,
    DIRECCION_COMPRA VARCHAR(200) NOT NULL, 
    ESTADO VARCHAR(1) NOT NULL, 
    NUMERO_REFERENCIA VARCHAR(6) NOT NULL
);
```

2. Correr el proyecto en IntelliJ.

3. Crear una tarjeta:
**Endpoint:**
<http://localhost:8080/tarjeta/crearTarjeta>

**request:**
```json
{
    "pan": 123457789890,
    "cedula": 1012399,
    "titular": "Hose",
    "debitoCredito": "D",
    "telefono": "142412512"
}
```
**NOTA:** tenga en cuenta el campo `numeroValidacion` generado en el response. 

4. Enrolar una tarjeta
**Endpoint:**
<http://localhost:8080/tarjeta/enrolarTarjeta>

**request:**

```json
{
    "pan": 123457789890,
    "numeroValidacion": 98
}
```

5. Consultar una tarjeta:
**Endpoint:**
<http://localhost:8080/tarjeta/consultarTarjeta>

**request:**
```json
{
    "pan": 123457789890
}
```

6. Eliminar una tarjeta
<http://localhost:8080/tarjeta/eliminarTarjeta>

**request:**
```json
{
    "pan": 123457789890,
    "numeroValidacion": 95
}
```

7. Crear transacci贸n:
**Endpoint:**
<http://localhost:8080/tarjeta/crearTransacci贸n>

**request:**

```json
{
    "pan": 123457789890,
    "totalCompra": 1000,
    "direccionCompra": "Calle 40 # 56 - 17",
    "numeroReferecia": 2132
}
```

8. Anular transacci贸n:
**Endpoint:**
<http://localhost:8080/tarjeta/anularTransacci贸n>

**request:**
```json
{
    "pan": 123457789890,
    "totalCompra": 1000,
    "numeroReferecia": 2132
}
```